# 《算法天天练》产品需求文档 (PRD)

## 版本历史

| 版本号 | 修改日期 | 修改人 | 修改概要 |
| :--- | :--- | :--- | :--- |
| V1.0 | 2023-10-27 | AI | 初始版本创建 |

## 1. 产品概述

### 1.1 产品名称
算法天天练

### 1.2 产品定位
一款面向程序员、学生和所有算法学习者的单机移动应用。提供分类清晰的算法题库、系统化的学习工具和详尽的数据统计，帮助用户在本地无网环境下也能高效、沉浸地刷题，巩固算法知识，备战面试和提升编程能力。

### 1.3 核心特色
*   **离线可用**：所有题目、功能、数据存储均在本地，无需网络。
*   **分类详尽**：涵盖8大主流算法分类，共计160道精选题目。
*   **学习工具完善**：集成错题本、收藏夹、模拟考试等高效学习工具。
*   **数据驱动**：通过统计和图表，清晰展示学习进度与薄弱环节。
*   **用户体验优先**：界面简洁，交互流畅，专注于刷题本身。

### 1.4 用户角色
*   **求职者**：准备技术面试，需要系统性刷题。
*   **在校学生**：学习数据结构与算法课程，需要练习巩固。
*   **在职开发者**：希望定期刷题保持手感，拓展解题思路。

## 2. 功能详述

### 2.1 底部导航栏 (Tab Bar)
应用主要功能导航，包含五个标签页：
1.  **今日练习** (图标: 🏠)
2.  **学习路线** (图标: 🗺️)
3.  **练习中心** (图标: 🎯)
4.  **模拟考核** (图标: 🧪)
5.  **我的统计** (图标: 📊)

---

### 2.2 页面功能与设计

#### 2.2.1 「今日练习」页 (Home Tab)
*   **功能描述**：App的默认首页，旨在培养用户每日练习的习惯。提供每日推荐和个性化复习。
*   **页面元素**：
    *   顶部横幅：显示日期和每日激励语。
    *   **每日一题卡片**：
        *   内容：系统随机推荐一道题目（显示标题、难度、分类）。
        *   操作按钮：【开始挑战】。
    *   **随机复习卡片**：
        *   内容：从用户的错题本或收藏夹中随机抽取一题（显示来源，如“来自你的错题本”）。
        *   操作按钮：【开始复习】。
    *   **学习状态卡片**：显示连续学习天数、总攻克题数等摘要数据，点击可跳转至「我的统计」页。
    *   **快捷入口**：收藏夹、错题本图标，点击直接跳转至对应页面。

#### 2.2.2 「学习路线」页 (Map Tab)
*   **功能描述**：为用户提供系统化的、渐进式的学习路径建议，避免盲目刷题。
*   **页面元素**：
    *   可视化学习路线图（纵向列表或树形图）。
    *   路线节点：包含8个分类节点，按建议顺序排列（数组 -> 字符串 -> 链表 -> 二叉树 -> 双指针 -> 二分查找 -> 数学 -> 动态规划）。
    *   每个节点显示：分类名称、完成进度（如 `8/20`）、状态（锁定/未锁定）。完成前一个节点的一定题量（如10题）后解锁后续节点。
    *   操作：点击已解锁节点的【开始】按钮，进入该分类的练习列表。

#### 2.2.3 「练习中心」页 (Target Tab)
*   **功能描述**：所有题目的总库和分类练习的核心入口。
*   **页面元素**：
    *   搜索栏：可根据题目名称或关键词搜索。
    *   分类网格：以卡片形式展示8个算法分类。每个卡片显示：分类图标、名称、总题数、用户完成进度条。
    *   操作：点击分类卡片，进入**分类练习列表子页面**。
*   **分类练习列表子页面**：
    *   顶部：显示分类名称和“共20题，已完成X题”的统计信息。
    *   题目列表：显示该分类下所有题目。
        *   列表项：序号、题目名称、难度标签（绿-简单，橙-中等，红-困难）、状态图标（√ 已完成，⭐ 已收藏，● 错题）。
    *   排序筛选：支持按默认序号或难度排序。
    *   操作：点击任意题目，进入**题目详情与练习页**。

#### 2.2.4 「模拟考核」页 (Exam Tab)
*   **功能描述**：在限定时间内完成一套随机生成的试卷，模拟真实面试环境。
*   **页面元素**：
    *   模式选择卡片：
        *   **快速模考**（5题，25分钟）
        *   **标准模考**（10题，60分钟）
        *   **地狱模考**（15题，90分钟）
    *   操作：点击模式卡片，弹出规则说明对话框，确认后开始考核。
    *   **考核进行中**：全屏模式，显示倒计时器和题目。
    *   **考核报告**：提交后生成，显示得分、用时、正确率、排名（与历史平均对比）、错题列表（可点击查看解析）。

#### 2.2.5 「我的统计」页 (Chart Tab)
*   **功能描述**：全方位数据可视化，展示用户的学习成果和分析，帮助用户查漏补缺。
*   **页面元素**：
    *   **学习概览**：数字卡片展示总练习时长、总练习题数、连续练习天数、已攻克题目数。
    *   **分类能力雷达图**：直观对比用户在8个分类中的相对强弱。
    *   **正确率趋势图**（折线图）：展示近期正确率变化趋势（近7天/30天）。
    *   **题目难度分布图**（圆环图）：展示已做题目的简单、中等、困难占比。
    *   **详细数据入口**：点击各图表可查看更详细的数据列表。

#### 2.2.6 「题目详情与练习」页 (核心页面)
*   **功能描述**：显示题目、提供代码编辑环境并运行测试的核心界面。
*   **页面元素**：
    *   **题目描述区域**：标题、难度标签、分类标签、问题描述、示例、约束条件。
    *   **代码编辑器区域**：语法高亮、自动缩进、常用符号快捷栏。
    *   **操作按钮**：【运行】（使用示例测试用例）、【提交】（使用全部测试用例评估）。
    *   **功能按钮**：【收藏】（⭐）、【提示】（💡）。
    *   **结果输出区域**：
        *   **运行结果**：显示测试用例的通过情况（✅/❌）、输入、预期输出、实际输出。
        *   **提交结果**：显示总体通过率（如 `通过 15/20 个测试用例`）。
    *   **解析面板**（提交后或主动触发）：包含解题思路和最优解代码（可折叠隐藏）。

#### 2.2.7 「错题本」与「收藏夹」页面
*   **功能描述**：集中管理错题和收藏的题目。
*   **入口**：位于「今日练习」页的快捷入口或「我的统计」页。
*   **页面元素**：
    *   页面标题（“错题本” / “收藏夹”）。
    *   题目列表：样式同「分类练习列表」，但仅包含对应题目。
    *   操作：左滑或长按列表项可【移除】。

### 2.3 其他补充功能
*   **学习成就系统**：设立勋章（如“数组征服者”、“七日坚持”、“第一次满分”），增加趣味性和动力。
*   **自定义练习**：允许用户自选分类、难度、题数生成定制练习卷。
*   **深色模式**：支持切换浅色/深色主题，保护用户视力。
*   **代码分享**：可将自己的解题代码生成图片或文本分享给他人。
*   **数据导出/导入**：支持将学习进度和收藏数据导出备份，或导入到新设备。

## 3. 本地数据库设计 (SQLite)

### 3.1 题目表 (`problems`)
存储所有题目的静态信息。

| 字段名 | 数据类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | INTEGER | PRIMARY KEY | 题目唯一ID |
| `title` | TEXT | NOT NULL | 题目名称 |
| `description` | TEXT | NOT NULL | 题目描述 |
| `difficulty` | INTEGER | NOT NULL | 难度 (0:简单，1:中等，2:困难) |
| `category` | TEXT | NOT NULL | 分类（'array', 'string', ...） |
| `constraints` | TEXT | | 约束条件 |
| `hint` | TEXT | | 解题提示 |
| `solution_code` | TEXT | | 最优解代码（JSON字符串，存储多语言代码） |
| `test_cases` | TEXT | NOT NULL | 存储JSON格式的测试用例集 |

### 3.2 用户进度表 (`user_progress`)
动态记录用户每道题的练习状态。

| 字段名 | 数据类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | INTEGER | PRIMARY KEY | 记录ID |
| `problem_id` | INTEGER | FOREIGN KEY | 关联题目ID |
| `status` | INTEGER | DEFAULT 0 | 状态 (0:未做，1:已做，2:做错) |
| `is_favorite` | INTEGER | DEFAULT 0 | 是否收藏 (0:否，1:是) |
| `last_attempted` | TEXT | | 最后尝试时间 (ISO8601字符串) |
| `attempt_count` | INTEGER | DEFAULT 0 | 尝试次数 |
| `success_count` | INTEGER | DEFAULT 0 | 成功次数 |

### 3.3 模拟考核记录表 (`exam_records`)
存储用户的模拟考核历史。

| 字段名 | 数据类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | INTEGER | PRIMARY KEY | 记录ID |
| `date` | TEXT | NOT NULL | 考核日期 |
| `mode` | TEXT | NOT NULL | 考核模式（'quick', 'standard', 'hard'） |
| `score` | REAL | NOT NULL | 得分 |
| `duration` | INTEGER | NOT NULL | 用时（秒） |
| `details` | TEXT | NOT NULL | 存储JSON格式的详细题目和结果 |

## 4. 题目分类与清单 (总计160题)

每个分类包含20道题目，以下为每个分类的示例题目（5道）。

### 4.1 数组 (Array)
1.  两数之和 (简单)
2.  寻找数组的中心索引 (简单)
3.  盛最多水的容器 (中等)
4.  移动零 (简单)
5.  合并区间 (中等)
6.  ... (其他15题，如：旋转图像、接雨水、最大子数组和、打乱数组等)

### 4.2 字符串 (String)
1.  有效的字母异位词 (简单)
2.  字符串转换整数 (atoi) (中等)
3.  翻转字符串里的单词 (中等)
4.  字符串解码 (中等)
5.  找到字符串中所有字母异位词 (中等)
6.  ... (其他15题，如：最长回文子串、无重复字符的最长子串、Z字形变换、编辑距离等)

### 4.3 链表 (Linked List)
1.  反转链表 (简单)
2.  环形链表 (简单)
3.  合并两个有序链表 (简单)
4.  删除链表的倒数第 N 个结点 (中等)
5.  环形链表 II (中等)
6.  ... (其他15题，如：两数相加、LRU缓存、复制带随机指针的链表、排序链表等)

### 4.4 二叉树 (Binary Tree)
1.  二叉树的最大深度 (简单)
2.  二叉树的层序遍历 (中等)
3.  二叉搜索树中第K小的元素 (中等)
4.  二叉树展开为链表 (中等)
5.  二叉树的最近公共祖先 (中等)
6.  ... (其他15题，如：对称二叉树、路径总和、序列化与反序列化、二叉树的直径等)

### 4.5 双指针 (Two Pointers)
1.  移动零 (简单)
2.  盛最多水的容器 (中等) *(与数组交叉)*
3.  三数之和 (中等)
4.  最小覆盖子串 (困难)
5.  找到字符串中所有字母异位词 (中等) *(与字符串交叉)*
6.  ... (其他15题，如：四数之和、比较含退格的字符串、无重复字符的最长子串、链表中倒数第k个节点等)

### 4.6 二分查找 (Binary Search)
1.  二分查找 (简单)
2.  搜索旋转排序数组 (中等)
3.  在排序数组中查找元素的第一个和最后一个位置 (中等)
4.  寻找峰值 (中等)
5.  寻找两个正序数组的中位数 (困难)
6.  ... (其他15题，如：x的平方根、寻找旋转排序数组中的最小值、有效的完全平方数、H指数II等)

### 4.7 数学 (Math)
1.  Fizz Buzz (简单)
2.  计数质数 (中等)
3.  快乐数 (简单)
4.  x 的平方根 (简单) *(与二分交叉)*
5.  Pow(x, n) (中等)
6.  ... (其他15题，如：直线上最多的点、颠倒二进制位、字符串相乘、最大公约数等)

### 4.8 动态规划 (Dynamic Programming)
1.  爬楼梯 (简单)
2.  打家劫舍 (中等)
3.  最长递增子序列 (中等)
4.  零钱兑换 (中等)
5.  编辑距离 (困难)
6.  ... (其他15题，如：不同路径、买卖股票的最佳时机、单词拆分、最大矩形、正则表达式匹配等)

## 5. 后续迭代方向

1.  **多语言支持**：在代码编辑器中增加对JavaScript、Go、C#等语言的支持。
2.  **题解社区**（需网络）：开发后端，实现用户上传和查看题解的功能。
3.  **竞赛模式**：每周推出新的挑战赛题，用户可参与并查看排名。
4.  **智能推荐**：根据用户的错题记录，更精准地推荐需要练习的题目类型。